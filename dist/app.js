"use strict";if(document.querySelector(".header")){var e=document.querySelector(".header__select");new Choices(e,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,classNames:{containerOuter:"choices choices__region",list:"choices__list--region",flippedState:""}});var t=document.querySelector(".header__filter");new Choices(t,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,classNames:{containerOuter:"choices choices__filter",list:"choices__list--filter",flippedState:""}});var r=document.querySelector(".burger-menu"),n=document.querySelector(".bottom-menu");r.addEventListener("click",(function(){n.classList.toggle("active"),r.classList.toggle("active")}))}if(document.querySelector(".hero__slider"))new Swiper(".hero__slider",{autoplay:{delay:4e3},effect:"fade",fadeEffect:{crossFade:!0},loop:!0,pagination:{el:".swiper-pagination-hero",clickable:!0}});if(document.querySelector(".oferta__slider"))new Swiper(".oferta__slider",{effect:"horizontal",slidesPerView:1,slidesPerGroup:1,spaceBetween:10,navigation:{nextEl:".oferta__button-next",prevEl:".oferta__button-prev"},breakpoints:{501:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32},993:{slidesPerView:3,slidesPerGroup:3,spaceBetween:33},1311:{slidesPerView:"auto",slidesPerGroup:3,spaceBetween:32}},a11y:!1});if(document.querySelector(".special__slider"))new Swiper(".special__slider",{effect:"horizontal",slidesPerView:1,slidesPerGroup:1,spaceBetween:32,navigation:{nextEl:".special__button-next",prevEl:".special__button-prev"},breakpoints:{501:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32},993:{slidesPerView:3,slidesPerGroup:3,spaceBetween:32},1311:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32}}});var o=window.screen.width;if(document.querySelector(".rating")){var i=document.querySelector(".rating").querySelectorAll(".card__wrap"),a=document.querySelector(".rating__btn"),s=function(e,t){if((o=window.screen.width)>1309)for(var r=0;r<e.length;r++)e[r].style.display="block",r>7&&(e[r].style.display="none",a.style.display="block");else for(var n=0;n<e.length;n++)n>5&&(e[n].style.display="none",a.style.display="block");if(t){for(var i=0;i<e.length;i++)e[i].style.display="block";a.style.display="none"}};s(i),window.addEventListener("resize",(function(){s(i)})),a.addEventListener("click",(function(e){e.preventDefault(),s(i,"click")}))}if(tippy(".tooltip-js",{theme:"project",maxWidth:157,trigger:"mouseenter focus click",interactive:!0}),document.querySelector("input[type='tel']")){var l=document.querySelector("input[type='tel']");new Inputmask("+7 (999) 999-99-99").mask(l)}if(document.querySelector(".contact__input")){var c=document.querySelector(".contact__btn"),d=document.querySelectorAll(".contact__input");c.addEventListener("click",(function(){d.forEach((function(e){return e.classList.add("js-success")}))})),new JustValidate(".contact__form",{colorWrong:"#D11616",rules:{name:{required:!0,minLength:2,maxLength:25},tel:{required:!0,function:function(e,t){var r=selector.inputmask.unmaskedvalue();return Number(r)&&10===r.length}},email:{required:!0,email:!0}},messages:{name:{required:"Недопустимый формат",minLength:"Имя не может быть меньше двух символов",maxLength:"Запрещено вводить более 25 символов"},tel:{required:"Недопустимый формат",function:"Здесь должно быть 10 символов"},email:{required:"Недопустимый формат",email:"Email должен быть по примеру example@mail.ru"}},submitHandler:function(e){var t=new FormData(e),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&console.log("Отправлено")},r.open("POST","mail.php",!0),r.send(t),e.reset()}})}if(document.querySelector(".js-filter-price-options")&&function(){var e=document.querySelector(".js-filter-price-from"),t=document.querySelector(".js-filter-price-to"),r=document.querySelector(".filter__range-slider");noUiSlider.create(r,{start:[2e3,15e4],connect:!0,range:{min:0,max:2e5},step:1,format:wNumb({decimals:0,thousand:" "})}),r.noUiSlider.on("update",(function(r,n){var o=r[n];n?t.value=o:e.value=o})),e.addEventListener("change",(function(){return r.noUiSlider.set([e.value,null])})),t.addEventListener("change",(function(){return r.noUiSlider.set([null,t.value])}));for(var n=document.querySelectorAll(".filter__param"),o=function(e){n[e].querySelector(".filter__name").onclick=function(t){if(t.preventDefault(),n[e].classList.contains("is-active"))n[e].classList.remove("is-active");else{for(var r=0;r<n.length;r++)n[r].classList.remove("is-active");n[e].classList.add("is-active")}}},i=0;i<n.length;i++)o(i);var a=document.querySelector(".catalog__filter-tag-list");document.querySelectorAll(".custom--check").forEach((function(e){e.addEventListener("change",(function(t){var r=t.target.nextElementSibling.textContent,n=e.getAttribute("name");if(t.target.checked){var o=document.createElement("li");o.classList.add("catalog__filter-tag-item");var i,s=document.createElement("span");switch(s.textContent=r,s.classList.add("catalog__tag"),n){case"category":i="--color-green";break;case"price":i="--color-orange";break;case"discount":i="--color-violet";break;case"color":i="--color-grey"}s.classList.add("catalog__tag".concat(i));var l=document.createElement("button");l.classList.add("close-btn","catalog__tag-close-btn"),l.addEventListener("click",(function(){l.parentElement.parentElement.remove(),e.checked=!1}));var c=document.createElement("span");l.append(c),s.append(l),o.append(s),a.append(o)}else a.querySelectorAll(".catalog__tag").forEach((function(e){e.textContent===r&&e.parentElement.remove()}))}))}))}(),document.querySelector(".card__list--catalog")){var u,p=function(){u=o>992?9:6},m=function(e){var t=document.createElement("li");t.classList.add("pagination__item");var r=document.createElement("button");r.classList.add("pagination__link"),r.textContent=e,r.setAttribute("value",e),r.onclick=function(t){t.preventDefault(),_(e),r.classList.add("active")},y.append(t),t.append(r)},_=function(e){1===e?f(v,u):2===e?f(u,u*e):e>=3&&f(u*(e-1),u*e);for(var t=document.querySelectorAll(".pagination__link"),r=0;r<t.length;r++)t[r].classList.remove("active")},f=function(e,t){for(var r=0;r<w.length;r++)w[r].style.display="none";for(var n=e;n<w.length;n++)n<t&&(w[n].style.display="block")},w=document.querySelector(".card__list--catalog").querySelectorAll(".card__wrap"),v=0;p(),window.addEventListener("resize",(function(){o=window.screen.width,p()}));for(var h=v;h<w.length;h++){var g=w[h];g.style.display=h<u?"block":"none"}for(var y=document.querySelector(".pagination__list"),S=0;S<w.length/u;S++)m(S+1);var L=y.querySelectorAll("button");document.addEventListener("DOMContentLoaded",(function(){for(var e=0;e<L.length;e++)"1"===L[e].getAttribute("value")&&L[e].classList.add("active")}))}if(document.querySelector(".product")){var q=new Swiper(".product__thumbs",{slidesPerView:"auto",slideToClickedSlide:!0,freeMode:!0,watchSlidesProgress:!0,a11y:{slideLabelMessage:"Миниатюра фото товара {{index}} из {{slidesLength}}",prevSlideMessage:"Предыдущие миниатюры",nextSlideMessage:"Следующие миниатюры"},direction:"horizontal",spaceBetween:40,breakpoints:{501:{spaceBetween:17,direction:"vertical"},993:{spaceBetween:18,direction:"horizontal"},1311:{spaceBetween:38,direction:"horizontal"}}});new Swiper(".product__photo",{spaceBetween:16,thumbs:{swiper:q},a11y:{slideLabelMessage:"Фото товара {{index}} из {{slidesLength}}",prevSlideMessage:"Предыдущее фото",nextSlideMessage:"Следующее фото"}});var b=document.querySelector(".product__photo"),k=(document.querySelector(".modal__close-btn"),document.querySelector(".modal")),E=(document.querySelector(".modal__container--photo"),document.querySelector(".modal__window--photo"));b.addEventListener("click",(function(){console.log("click to photo"),k.classList.add("show"),E.classList.add("show")}));var P=new Swiper(".modal__thumbs-product",{slidesPerView:"auto",slideToClickedSlide:!0,freeMode:!0,watchSlidesProgress:!0,a11y:{slideLabelMessage:"Миниатюра фото товара {{index}} из {{slidesLength}}",prevSlideMessage:"Предыдущие миниатюры",nextSlideMessage:"Следующие миниатюры"},direction:"horizontal",spaceBetween:40,breakpoints:{501:{spaceBetween:10,direction:"horizontal",slidesPerView:2},993:{spaceBetween:18,direction:"horizontal",slidesPerView:3},1311:{spaceBetween:38,direction:"horizontal",slidesPerView:4}}});new Swiper(".modal__photo-product",{spaceBetween:16,thumbs:{swiper:P},a11y:{slideLabelMessage:"Фото товара {{index}} из {{slidesLength}}",prevSlideMessage:"Предыдущее фото",nextSlideMessage:"Следующее фото"}})}if(document.querySelector(".alike"))new Swiper(".alike__slider",{effect:"horizontal",slidesPerView:2,slidesPerGroup:2,spaceBetween:16,navigation:{nextEl:".alike__button-next",prevEl:".alike__button-prev"},breakpoints:{501:{slidesPerView:2,slidesPerGroup:2,spaceBetween:32},993:{slidesPerView:3,slidesPerGroup:3,spaceBetween:32},1311:{slidesPerView:4,slidesPerGroup:4,spaceBetween:32}}});document.querySelector(".product__btn-sail")&&function(){var e=document.querySelector(".product__btn-sail"),t=document.querySelector(".modal__window--buy"),r=document.querySelector(".modal__window--success"),n=document.querySelector(".modal"),o=document.querySelectorAll(".modal__close-btn"),i=document.querySelector(".modal__container--buy"),a=document.querySelector(".modal__container--success");e.addEventListener("click",(function(e){e.preventDefault(),n.classList.add("show"),t.classList.add("show"),i.classList.add("show")}));for(var s=0;s<o.length;s++)o[s].addEventListener("click",(function(){n.classList.remove("show"),t.classList.remove("show"),i.classList.remove("show"),a.classList.remove("show")}));var l=document.querySelector("input[type='tel']");new JustValidate(".modal__form",{colorWrong:"#D11616",rules:{name:{required:!0,minLength:2,maxLength:25},tel:{required:!0,function:function(e,t){var r=l.inputmask.unmaskedvalue();return Number(r)&&10===r.length}}},messages:{name:{required:"Недопустимый формат",minLength:"Имя не может быть меньше двух символов",maxLength:"Запрещено вводить более 25 символов"},tel:{required:"Недопустимый формат",function:"Здесь должно быть 10 символов"}},submitHandler:function(e){var n=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(console.log("Отправлено"),i.classList.remove("show"),t.classList.remove("show"),a.classList.add("show"),r.classList.add("show"))},o.open("POST","mail.php",!0),o.send(n),e.reset()}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVnIiwiQ2hvaWNlcyIsInNlYXJjaEVuYWJsZWQiLCJpdGVtU2VsZWN0VGV4dCIsInNob3VsZFNvcnQiLCJjbGFzc05hbWVzIiwiY29udGFpbmVyT3V0ZXIiLCJsaXN0IiwiZmxpcHBlZFN0YXRlIiwiZmlsIiwiYnVyZ2VyIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJTd2lwZXIiLCJhdXRvcGxheSIsImRlbGF5IiwiZWZmZWN0IiwiZmFkZUVmZmVjdCIsImNyb3NzRmFkZSIsImxvb3AiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJzbGlkZXNQZXJWaWV3Iiwic2xpZGVzUGVyR3JvdXAiLCJzcGFjZUJldHdlZW4iLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwiYnJlYWtwb2ludHMiLCJhMTF5Iiwid2luV2lkdGgiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ3aWR0aCIsImNhcmREaXNwbGF5IiwicXVlcnlTZWxlY3RvckFsbCIsImJ0blJhdGluZyIsInJlc2l6ZSIsImEiLCJiIiwiaSIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRpcHB5IiwidGhlbWUiLCJtYXhXaWR0aCIsInRyaWdnZXIiLCJpbnRlcmFjdGl2ZSIsInNlbGVjdG9yIiwiSW5wdXRtYXNrIiwibWFzayIsImNvbnRhY3RCdXR0b25zIiwiY29udGFjdFN1Y2Nlc3MiLCJmb3JFYWNoIiwiaW5wIiwiYWRkIiwiSnVzdFZhbGlkYXRlIiwiY29sb3JXcm9uZyIsInJ1bGVzIiwibmFtZSIsInJlcXVpcmVkIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwidGVsIiwiZnVuY3Rpb24iLCJ2YWx1ZSIsInBob25lIiwiaW5wdXRtYXNrIiwidW5tYXNrZWR2YWx1ZSIsIk51bWJlciIsImVtYWlsIiwibWVzc2FnZXMiLCJzdWJtaXRIYW5kbGVyIiwidGhpc0Zvcm0iLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsIm9wZW4iLCJzZW5kIiwicmVzZXQiLCJmaWx0ZXJQcmljZUZyb20iLCJmaWx0ZXJQcmljZVRvIiwiZmlsdGVyUHJpY2VTbGlkZXIiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJjb25uZWN0IiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJzdGVwIiwiZm9ybWF0Iiwid051bWIiLCJkZWNpbWFscyIsInRob3VzYW5kIiwib24iLCJ2YWx1ZXMiLCJoYW5kbGUiLCJzZXQiLCJmaWx0ZXJQYXJhbSIsIl9sb29wIiwib25jbGljayIsImNvbnRhaW5zIiwicmVtb3ZlIiwidGFnTGlzdCIsInQiLCJ0YXJnZXQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0ZXh0Q29udGVudCIsInR5cGVGaWx0ZXIiLCJnZXRBdHRyaWJ1dGUiLCJjaGVja2VkIiwibGlUYWciLCJjcmVhdGVFbGVtZW50IiwiY29sb3JUYWciLCJzcGFuVGFnIiwiY29uY2F0IiwiYnRuQ2xvc2VUYWciLCJwYXJlbnRFbGVtZW50Iiwic3BhbkNsb3NlVGFnIiwiYXBwZW5kIiwicGFnaW5hdGlvbkxpbWl0IiwicGFnaW5hdGlvbkxpbWl0VG9XaWR0aCIsImNyZWF0ZVBhZ2luYXRpb25CdG4iLCJkYXRhIiwibGlQYWdpbmF0aW9uIiwiYnRuUGFnaW5hdGlvbiIsInNldEF0dHJpYnV0ZSIsImNsaWNrRnVuY3Rpb25UYWIiLCJjb250YWluZXJDYXRhbG9nUGFnaW5hdGlvbiIsImNhdGFsb2dDYXJkVmlzaWJsZSIsImZpcnNQYWdpbmF0aW9uTGltaXQiLCJidG5QYWdpbmF0aW9uU2VhcmNoIiwiY2FyZEl0ZW0iLCJhbGxCdG4iLCJ0aHVtYnNTbGlkZXIiLCJzbGlkZVRvQ2xpY2tlZFNsaWRlIiwiZnJlZU1vZGUiLCJ3YXRjaFNsaWRlc1Byb2dyZXNzIiwic2xpZGVMYWJlbE1lc3NhZ2UiLCJwcmV2U2xpZGVNZXNzYWdlIiwibmV4dFNsaWRlTWVzc2FnZSIsImRpcmVjdGlvbiIsInRodW1icyIsInN3aXBlciIsInByb2R1Y3RQaG90byIsIm1vZGFsU2hhZG93V2luZG93IiwicGhvdG9XaW5kb3ciLCJ0aHVtYnNTbGlkZXJNb2RhbCIsInByb2R1Y3RCdG5TYWlsIiwiYnV5V2luZG93Iiwic3VjY2Vzc1dpbmRvdyIsImNsb3NlTW9kYWwiLCJtb2RhbENvbnRhaW5lckJ1eSIsIm1vZGFsQ29udGFpbmVyU3VjY2VzcyJdLCJtYXBwaW5ncyI6ImFBQUEsR0FBSUEsU0FBU0MsY0FBYyxXQUFZLENBQ3JDLElBQUlDLEVBQU1GLFNBQVNDLGNBQWMsbUJBQ2pDLElBQUlFLFFBQVFELEVBQUssQ0FDZkUsZUFBZSxFQUNmQyxlQUFnQixHQUNoQkMsWUFBWSxFQUNaQyxXQUFZLENBQUNDLGVBQWdCLDBCQUEyQkMsS0FBTSx3QkFBeUJDLGFBQWMsTUFFdkcsSUFBSUMsRUFBTVgsU0FBU0MsY0FBYyxtQkFDakMsSUFBSUUsUUFBUVEsRUFBSyxDQUNmUCxlQUFlLEVBQ2ZDLGVBQWdCLEdBQ2hCQyxZQUFZLEVBQ1pDLFdBQVksQ0FBQ0MsZUFBZ0IsMEJBQTJCQyxLQUFNLHdCQUF5QkMsYUFBYyxNQUV2RyxJQUFNRSxFQUFTWixTQUFTQyxjQUFjLGdCQUNoQ1ksRUFBT2IsU0FBU0MsY0FBYyxnQkFFcENXLEVBQU9FLGlCQUFpQixTQUFTLFdBQy9CRCxFQUFLRSxVQUFVQyxPQUFPLFVBQ3RCSixFQUFPRyxVQUFVQyxPQUFPLGFBSzVCLEdBQUloQixTQUFTQyxjQUFjLGlCQUNOLElBQUlnQixPQUFPLGdCQUFpQixDQUM3Q0MsU0FBVSxDQUFDQyxNQUFPLEtBQ2xCQyxPQUFRLE9BQ1JDLFdBQVksQ0FBQ0MsV0FBVyxHQUN4QkMsTUFBTSxFQUNOQyxXQUFZLENBQ1ZDLEdBQUksMEJBQ0pDLFdBQVcsS0FLakIsR0FBSTFCLFNBQVNDLGNBQWMsbUJB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LENBQ0xDLEtBQU0sQ0FDSkMsVUFBVSxFQUNWQyxVQUFXLEVBQ1hDLFVBQVcsSUFFYkMsSUFBSyxDQUNISCxVQUFVLEVBQ1ZJLFNBQVUsU0FBQ0wsRUFBTU0sR0FFZixJQUFNQyxFQUFRbEIsRUFBU21CLFVBQVVDLGdCQUNqQyxPQUFPQyxPQUFPSCxJQUEyQixLQUFqQkEsRUFBTTVCLFVBSXBDaUMsU0FBVSxDQUNSWixLQUFNLENBQ0pDLFNBQVUsc0JBQ1ZDLFVBQVcseUNBQ1hDLFVBQVcsdUNBRWJDLElBQUssQ0FDSEgsU0FBVSxzQkFDVkksU0FBVSxrQ0FHZFEsY0FBZSxTQUFVQyxHQUN2QixJQUFJQyxFQUFXLElBQUlDLFNBQVNGLEdBRXhCRyxFQUFNLElBQUlDLGVBRWRELEVBQUlFLG1CQUFxQixXQUNBLElBQW5CRixFQUFJRyxZQUNhLE1BQWZILEVBQUlJLFNBQ05DLFFBQVFDLElBQUksY0FDWjZFLEVBQWtCeEosVUFBVXNHLE9BQU8sUUFDbkMrQyxFQUFVckosVUFBVXNHLE9BQU8sUUFDM0JtRCxFQUFzQnpKLFVBQVVnRCxJQUFJLFFBQ3BDc0csRUFBY3RKLFVBQVVnRCxJQUFJLFVBSWxDcUIsRUFBSU8sS0FBSyxPQUFRLFlBQVksR0FDN0JQLEVBQUlRLEtBQUtWLEdBQ1RELEVBQVNZLFdBekVtQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpKSB7XG4gIGxldCByZWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fc2VsZWN0XCIpO1xuICBuZXcgQ2hvaWNlcyhyZWcsIHtcbiAgICBzZWFyY2hFbmFibGVkOiAhMSxcbiAgICBpdGVtU2VsZWN0VGV4dDogXCJcIixcbiAgICBzaG91bGRTb3J0OiAhMSxcbiAgICBjbGFzc05hbWVzOiB7Y29udGFpbmVyT3V0ZXI6IFwiY2hvaWNlcyBjaG9pY2VzX19yZWdpb25cIiwgbGlzdDogXCJjaG9pY2VzX19saXN0LS1yZWdpb25cIiwgZmxpcHBlZFN0YXRlOiBcIlwifVxuICB9KTtcbiAgbGV0IGZpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19maWx0ZXJcIik7XG4gIG5ldyBDaG9pY2VzKGZpbCwge1xuICAgIHNlYXJjaEVuYWJsZWQ6ICExLFxuICAgIGl0ZW1TZWxlY3RUZXh0OiBcIlwiLFxuICAgIHNob3VsZFNvcnQ6ICExLFxuICAgIGNsYXNzTmFtZXM6IHtjb250YWluZXJPdXRlcjogXCJjaG9pY2VzIGNob2ljZXNfX2ZpbHRlclwiLCBsaXN0OiBcImNob2ljZXNfX2xpc3QtLWZpbHRlclwiLCBmbGlwcGVkU3RhdGU6IFwiXCJ9XG4gIH0pO1xuICBjb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKTtcbiAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3R0b20tbWVudScpO1xuXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgfSlcbn1cblxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX3NsaWRlcicpKSB7XG4gIGNvbnN0IHN3aXBlckhlcm8gPSBuZXcgU3dpcGVyKCcuaGVyb19fc2xpZGVyJywge1xuICAgIGF1dG9wbGF5OiB7ZGVsYXk6IDQwMDB9LFxuICAgIGVmZmVjdDogXCJmYWRlXCIsXG4gICAgZmFkZUVmZmVjdDoge2Nyb3NzRmFkZTogdHJ1ZX0sXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbi1oZXJvJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9LFxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vZmVydGFfX3NsaWRlcicpKSB7XG4gIGNvbnN0IHN3aXBlck9mZXJ0YSA9IG5ldyBTd2lwZXIoJy5vZmVydGFfX3NsaWRlcicsIHtcbiAgICBlZmZlY3Q6ICdob3Jpem9udGFsJyxcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLm9mZXJ0YV9fYnV0dG9uLW5leHQnLFxuICAgICAgcHJldkVsOiAnLm9mZXJ0YV9fYnV0dG9uLXByZXYnLFxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDUwMToge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBzbGlkZXNQZXJHcm91cDogMixcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMixcbiAgICAgIH0sXG4gICAgICA5OTM6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDMsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzMsXG4gICAgICB9LFxuICAgICAgMTMxMToge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAzLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGExMXk6IGZhbHNlLFxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGVjaWFsX19zbGlkZXInKSkge1xuICBjb25zdCBzd2lwZXJTcGVjaWFsID0gbmV3IFN3aXBlcignLnNwZWNpYWxfX3NsaWRlcicsIHtcbiAgICBlZmZlY3Q6ICdob3Jpem9udGFsJyxcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMzIsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLnNwZWNpYWxfX2J1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJy5zcGVjaWFsX19idXR0b24tcHJldicsXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNTAxOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxuICAgICAgfSxcbiAgICAgIDk5Mzoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzbGlkZXNQZXJHcm91cDogMyxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMixcbiAgICAgIH0sXG4gICAgICAxMzExOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxuICAgICAgfSxcbiAgICB9XG4gIH0pO1xufVxuXG5sZXQgd2luV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoOyAvL9Cf0LXRgNC10LzQtdC90L3QsNGPINC+0YLQstC10YfQsNGO0YnQsNGPINC30LAg0YjQuNGA0LjQvdGDINGN0LrRgNCw0L3QsFxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhdGluZycpKSB7XG4gIGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYXRpbmcnKTtcbiAgY29uc3QgY2FyZERpc3BsYXkgPSByYXRpbmcucXVlcnlTZWxlY3RvckFsbCgnLmNhcmRfX3dyYXAnKTtcbiAgY29uc3QgYnRuUmF0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJhdGluZ19fYnRuJyk7XG5cbiAgY29uc3QgcmVzaXplID0gKGEsIGIpID0+IHtcbiAgICB3aW5XaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGhcbiAgICBpZiAod2luV2lkdGggPiAxMzA5KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYVtpXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaWYgKGkgPiA3KSB7XG4gICAgICAgICAgYVtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGJ0blJhdGluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPiA1KSB7XG4gICAgICAgICAgYVtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGJ0blJhdGluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9XG4gICAgICBidG5SYXRpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH1cbiAgcmVzaXplKGNhcmREaXNwbGF5KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICByZXNpemUoY2FyZERpc3BsYXkpO1xuICB9KTtcbiAgYnRuUmF0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmVzaXplKGNhcmREaXNwbGF5LCBcImNsaWNrXCIpO1xuICB9KVxufVxuXG4oKCkgPT4ge1xuICB0aXBweSgnLnRvb2x0aXAtanMnLCB7XG4gICAgdGhlbWU6ICdwcm9qZWN0JyxcbiAgICBtYXhXaWR0aDogMTU3LFxuICAgIHRyaWdnZXI6IFwibW91c2VlbnRlciBmb2N1cyBjbGlja1wiLFxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICB9KTtcbn0pKClcblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPSd0ZWwnXVwiKSkge1xuICBsZXQgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT0ndGVsJ11cIik7XG4gIGxldCBpbSA9IG5ldyBJbnB1dG1hc2soXCIrNyAoOTk5KSA5OTktOTktOTlcIik7XG4gIGltLm1hc2soc2VsZWN0b3IpO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19pbnB1dFwiKSkge1xuICBsZXQgY29udGFjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fYnRuJyk7XG4gIGxldCBjb250YWN0U3VjY2VzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0X19pbnB1dCcpO1xuXG4gIGNvbnRhY3RCdXR0b25zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGZ1bmN0aW9uICgpIHtcbiAgICBjb250YWN0U3VjY2Vzcy5mb3JFYWNoKChmdW5jdGlvbiAoaW5wKSB7XG4gICAgICByZXR1cm4gaW5wLmNsYXNzTGlzdC5hZGQoJ2pzLXN1Y2Nlc3MnKVxuICAgIH0pKVxuICB9KSlcblxuICBuZXcgSnVzdFZhbGlkYXRlKCcuY29udGFjdF9fZm9ybScsIHtcbiAgICBjb2xvcldyb25nOiAnI0QxMTYxNicsXG4gICAgcnVsZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1pbkxlbmd0aDogMixcbiAgICAgICAgbWF4TGVuZ3RoOiAyNVxuICAgICAgfSxcbiAgICAgIHRlbDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBob25lID0gc2VsZWN0b3IuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKVxuICAgICAgICAgIHJldHVybiBOdW1iZXIocGhvbmUpICYmIHBob25lLmxlbmd0aCA9PT0gMTBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVtYWlsOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBlbWFpbDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IFwi0J3QtdC00L7Qv9GD0YHRgtC40LzRi9C5INGE0L7RgNC80LDRglwiLFxuICAgICAgICBtaW5MZW5ndGg6IFwi0JjQvNGPINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQvNC10L3RjNGI0LUg0LTQstGD0YUg0YHQuNC80LLQvtC70L7QslwiLFxuICAgICAgICBtYXhMZW5ndGg6IFwi0JfQsNC/0YDQtdGJ0LXQvdC+INCy0LLQvtC00LjRgtGMINCx0L7Qu9C10LUgMjUg0YHQuNC80LLQvtC70L7QslwiXG4gICAgICB9LFxuICAgICAgdGVsOiB7XG4gICAgICAgIHJlcXVpcmVkOiBcItCd0LXQtNC+0L/Rg9GB0YLQuNC80YvQuSDRhNC+0YDQvNCw0YJcIixcbiAgICAgICAgZnVuY3Rpb246IFwi0JfQtNC10YHRjCDQtNC+0LvQttC90L4g0LHRi9GC0YwgMTAg0YHQuNC80LLQvtC70L7QslwiXG4gICAgICB9LFxuICAgICAgZW1haWw6IHtcbiAgICAgICAgcmVxdWlyZWQ6IFwi0J3QtdC00L7Qv9GD0YHRgtC40LzRi9C5INGE0L7RgNC80LDRglwiLFxuICAgICAgICBlbWFpbDogXCJFbWFpbCDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0L/QviDQv9GA0LjQvNC10YDRgyBleGFtcGxlQG1haWwucnVcIlxuICAgICAgfVxuICAgIH0sXG4gICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKHRoaXNGb3JtKSB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpc0Zvcm0pO1xuXG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGC0L/RgNCw0LLQu9C10L3QvicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgeGhyLm9wZW4oJ1BPU1QnLCAnbWFpbC5waHAnLCB0cnVlKTtcbiAgICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcbiAgICAgIHRoaXNGb3JtLnJlc2V0KCk7XG4gICAgfVxuICB9KTtcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1maWx0ZXItcHJpY2Utb3B0aW9ucycpKSB7XG4gIGNvbnN0IGZpbHRlclByaWNlRnJvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1maWx0ZXItcHJpY2UtZnJvbScpO1xuICBjb25zdCBmaWx0ZXJQcmljZVRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWZpbHRlci1wcmljZS10bycpXG4gIGNvbnN0IGZpbHRlclByaWNlU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl9fcmFuZ2Utc2xpZGVyJylcblxuICBub1VpU2xpZGVyLmNyZWF0ZShmaWx0ZXJQcmljZVNsaWRlciwge1xuICAgIHN0YXJ0OiBbMjAwMCwgMTUwMDAwXSxcbiAgICBjb25uZWN0OiB0cnVlLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDIwMDAwMCxcbiAgICB9LFxuICAgIHN0ZXA6IDEsXG4gICAgZm9ybWF0OiB3TnVtYih7XG4gICAgICBkZWNpbWFsczogMCxcbiAgICAgIHRob3VzYW5kOiAnICcsXG4gICAgfSlcbiAgfSlcblxuICBmaWx0ZXJQcmljZVNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1toYW5kbGVdXG5cbiAgICBpZiAoaGFuZGxlKSB7XG4gICAgICBmaWx0ZXJQcmljZVRvLnZhbHVlID0gdmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyUHJpY2VGcm9tLnZhbHVlID0gdmFsdWVcbiAgICB9XG4gIH0pXG5cbiAgZmlsdGVyUHJpY2VGcm9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+XG4gICAgZmlsdGVyUHJpY2VTbGlkZXIubm9VaVNsaWRlci5zZXQoW2ZpbHRlclByaWNlRnJvbS52YWx1ZSwgbnVsbF0pXG4gIClcbiAgZmlsdGVyUHJpY2VUby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PlxuICAgIGZpbHRlclByaWNlU2xpZGVyLm5vVWlTbGlkZXIuc2V0KFtudWxsLCBmaWx0ZXJQcmljZVRvLnZhbHVlXSlcbiAgKVxuXG4gIGxldCBmaWx0ZXJQYXJhbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXJfX3BhcmFtJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyUGFyYW0ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZmlsdGVyUGFyYW1CdG4gPSBmaWx0ZXJQYXJhbVtpXS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX19uYW1lJyk7XG4gICAgZmlsdGVyUGFyYW1CdG4ub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZmlsdGVyUGFyYW1baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICBmaWx0ZXJQYXJhbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyUGFyYW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmaWx0ZXJQYXJhbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaWx0ZXJQYXJhbVtpXS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCB0YWdMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2dfX2ZpbHRlci10YWctbGlzdCcpO1xuICBsZXQgZmlsdGVySW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS0tY2hlY2snKTtcblxuICBmaWx0ZXJJbnB1dHMuZm9yRWFjaChlID0+IHtcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdCA9PiB7XG4gICAgICBsZXQgbmFtZSA9IHQudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudDtcbiAgICAgIGxldCB0eXBlRmlsdGVyID0gZS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblxuICAgICAgaWYgKHQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgY29uc3QgbGlUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaVRhZy5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nX19maWx0ZXItdGFnLWl0ZW0nKTtcbiAgICAgICAgY29uc3Qgc3BhblRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3BhblRhZy50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHNwYW5UYWcuY2xhc3NMaXN0LmFkZCgnY2F0YWxvZ19fdGFnJyk7XG4gICAgICAgIGxldCBjb2xvclRhZztcbiAgICAgICAgc3dpdGNoICh0eXBlRmlsdGVyKSB7XG4gICAgICAgICAgY2FzZSBcImNhdGVnb3J5XCI6XG4gICAgICAgICAgICBjb2xvclRhZyA9IFwiLS1jb2xvci1ncmVlblwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInByaWNlXCI6XG4gICAgICAgICAgICBjb2xvclRhZyA9IFwiLS1jb2xvci1vcmFuZ2VcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkaXNjb3VudFwiOlxuICAgICAgICAgICAgY29sb3JUYWcgPSBcIi0tY29sb3ItdmlvbGV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29sb3JcIjpcbiAgICAgICAgICAgIGNvbG9yVGFnID0gXCItLWNvbG9yLWdyZXlcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNwYW5UYWcuY2xhc3NMaXN0LmFkZChgY2F0YWxvZ19fdGFnJHtjb2xvclRhZ31gKTtcbiAgICAgICAgY29uc3QgYnRuQ2xvc2VUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnRuQ2xvc2VUYWcuY2xhc3NMaXN0LmFkZCgnY2xvc2UtYnRuJywgJ2NhdGFsb2dfX3RhZy1jbG9zZS1idG4nKVxuICAgICAgICBidG5DbG9zZVRhZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBidG5DbG9zZVRhZy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgZS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHNwYW5DbG9zZVRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgICAgICBidG5DbG9zZVRhZy5hcHBlbmQoc3BhbkNsb3NlVGFnKVxuICAgICAgICBzcGFuVGFnLmFwcGVuZChidG5DbG9zZVRhZyk7XG4gICAgICAgIGxpVGFnLmFwcGVuZChzcGFuVGFnKVxuICAgICAgICB0YWdMaXN0LmFwcGVuZChsaVRhZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRhbG9nX190YWcnKS5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgIGUudGV4dENvbnRlbnQgPT09IG5hbWUgJiYgZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saXN0LS1jYXRhbG9nJykpIHtcbiAgY29uc3QgY2FyZENhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlzdC0tY2F0YWxvZycpO1xuICBjb25zdCBjYXJkSXRlbSA9IGNhcmRDYXRhbG9nLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkX193cmFwJyk7XG5cbiAgbGV0IHBhZ2luYXRpb25MaW1pdCwgZmlyc1BhZ2luYXRpb25MaW1pdCA9IDA7XG4gIHBhZ2luYXRpb25MaW1pdFRvV2lkdGgoKVxuXG4gIGZ1bmN0aW9uIHBhZ2luYXRpb25MaW1pdFRvV2lkdGgoKSB7XG4gICAgaWYgKHdpbldpZHRoID4gOTkyKSB7XG4gICAgICBwYWdpbmF0aW9uTGltaXQgPSA5O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWdpbmF0aW9uTGltaXQgPSA2O1xuICAgIH1cbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgd2luV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoXG4gICAgcGFnaW5hdGlvbkxpbWl0VG9XaWR0aCgpXG4gIH0pO1xuXG4gIGZvciAobGV0IGkgPSBmaXJzUGFnaW5hdGlvbkxpbWl0OyBpIDwgY2FyZEl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYSA9IGNhcmRJdGVtW2ldXG4gICAgaWYgKGkgPCBwYWdpbmF0aW9uTGltaXQpIHtcbiAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH1cblxuICBsZXQgY29udGFpbmVyQ2F0YWxvZ1BhZ2luYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbl9fbGlzdCcpO1xuICBsZXQgbnVtYmVyUGFnaW5hdGlvbjtcblxuICBmdW5jdGlvbiBjcmVhdGVQYWdpbmF0aW9uQnRuKGRhdGEpIHtcbiAgICBsZXQgbGlQYWdpbmF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBsaVBhZ2luYXRpb24uY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9faXRlbScpO1xuICAgIGxldCBidG5QYWdpbmF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuUGFnaW5hdGlvbi5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19saW5rJyk7XG4gICAgYnRuUGFnaW5hdGlvbi50ZXh0Q29udGVudCA9IGRhdGE7XG4gICAgYnRuUGFnaW5hdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGF0YSk7XG4gICAgYnRuUGFnaW5hdGlvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNsaWNrRnVuY3Rpb25UYWIoZGF0YSk7XG4gICAgICBidG5QYWdpbmF0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBjb250YWluZXJDYXRhbG9nUGFnaW5hdGlvbi5hcHBlbmQobGlQYWdpbmF0aW9uKTtcbiAgICBsaVBhZ2luYXRpb24uYXBwZW5kKGJ0blBhZ2luYXRpb24pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkSXRlbS5sZW5ndGggLyBwYWdpbmF0aW9uTGltaXQ7IGkrKykge1xuICAgIG51bWJlclBhZ2luYXRpb24gPSBpICsgMVxuICAgIGNyZWF0ZVBhZ2luYXRpb25CdG4obnVtYmVyUGFnaW5hdGlvbik7XG4gIH1cblxuICBsZXQgYWxsQnRuID0gY29udGFpbmVyQ2F0YWxvZ1BhZ2luYXRpb24ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XG5cbiAgZnVuY3Rpb24gZmlyc3RMb2FkKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQnRuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYWxsQnRuW2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKSA9PT0gJzEnKSB7XG4gICAgICAgIGFsbEJ0bltpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZmlyc3RMb2FkKTtcblxuICBmdW5jdGlvbiBjbGlja0Z1bmN0aW9uVGFiKGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gMSkge1xuICAgICAgY2F0YWxvZ0NhcmRWaXNpYmxlKGZpcnNQYWdpbmF0aW9uTGltaXQsIHBhZ2luYXRpb25MaW1pdClcbiAgICB9IGVsc2UgaWYgKGRhdGEgPT09IDIpIHtcbiAgICAgIGNhdGFsb2dDYXJkVmlzaWJsZShwYWdpbmF0aW9uTGltaXQsIChwYWdpbmF0aW9uTGltaXQgKiBkYXRhKSlcbiAgICB9IGVsc2UgaWYgKGRhdGEgPj0gMykge1xuICAgICAgY2F0YWxvZ0NhcmRWaXNpYmxlKChwYWdpbmF0aW9uTGltaXQgKiAoZGF0YSAtIDEpKSwgKHBhZ2luYXRpb25MaW1pdCAqIGRhdGEpKVxuICAgIH1cbiAgICBsZXQgYnRuUGFnaW5hdGlvblNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19saW5rJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidG5QYWdpbmF0aW9uU2VhcmNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidG5QYWdpbmF0aW9uU2VhcmNoW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhdGFsb2dDYXJkVmlzaWJsZShhLCBiKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkSXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgY2FyZEl0ZW1baV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGE7IGkgPCBjYXJkSXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPCBiKSB7XG4gICAgICAgIGNhcmRJdGVtW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QnKSkge1xuICBjb25zdCB0aHVtYnNTbGlkZXIgPSBuZXcgU3dpcGVyKCcucHJvZHVjdF9fdGh1bWJzJywge1xuICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxuICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgYTExeToge1xuICAgICAgc2xpZGVMYWJlbE1lc3NhZ2U6ICfQnNC40L3QuNCw0YLRjtGA0LAg0YTQvtGC0L4g0YLQvtCy0LDRgNCwIHt7aW5kZXh9fSDQuNC3IHt7c2xpZGVzTGVuZ3RofX0nLFxuICAgICAgcHJldlNsaWRlTWVzc2FnZTogJ9Cf0YDQtdC00YvQtNGD0YnQuNC1INC80LjQvdC40LDRgtGO0YDRiycsXG4gICAgICBuZXh0U2xpZGVNZXNzYWdlOiAn0KHQu9C10LTRg9GO0YnQuNC1INC80LjQvdC40LDRgtGO0YDRiycsXG4gICAgfSxcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBzcGFjZUJldHdlZW46IDQwLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA1MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNyxcbiAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgfSxcbiAgICAgIDk5Mzoge1xuICAgICAgICBzcGFjZUJldHdlZW46IDE4LFxuICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIH0sXG4gICAgICAxMzExOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzgsXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICBuZXcgU3dpcGVyKCcucHJvZHVjdF9fcGhvdG8nLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAxNixcbiAgICB0aHVtYnM6IHtcbiAgICAgIHN3aXBlcjogdGh1bWJzU2xpZGVyLFxuICAgIH0sXG4gICAgYTExeToge1xuICAgICAgc2xpZGVMYWJlbE1lc3NhZ2U6ICfQpNC+0YLQviDRgtC+0LLQsNGA0LAge3tpbmRleH19INC40Lcge3tzbGlkZXNMZW5ndGh9fScsXG4gICAgICBwcmV2U2xpZGVNZXNzYWdlOiAn0J/RgNC10LTRi9C00YPRidC10LUg0YTQvtGC0L4nLFxuICAgICAgbmV4dFNsaWRlTWVzc2FnZTogJ9Ch0LvQtdC00YPRjtGJ0LXQtSDRhNC+0YLQvicsXG4gICAgfSxcbiAgfSlcblxuICBjb25zdCBwcm9kdWN0UGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fcGhvdG8nKTtcbiAgY29uc3QgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnRuJyk7XG4gIGNvbnN0IG1vZGFsU2hhZG93V2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG4gIGNvbnN0IG1vZGFsQ29udGFpbmVyUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhaW5lci0tcGhvdG8nKTtcbiAgY29uc3QgcGhvdG9XaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3dpbmRvdy0tcGhvdG8nKTtcblxuICBwcm9kdWN0UGhvdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2NsaWNrIHRvIHBob3RvJyk7XG4gICAgbW9kYWxTaGFkb3dXaW5kb3cuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIHBob3RvV2luZG93LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgfSk7XG5cbiAgY29uc3QgdGh1bWJzU2xpZGVyTW9kYWwgPSBuZXcgU3dpcGVyKCcubW9kYWxfX3RodW1icy1wcm9kdWN0Jywge1xuICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiB0cnVlLFxuICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgYTExeToge1xuICAgICAgc2xpZGVMYWJlbE1lc3NhZ2U6ICfQnNC40L3QuNCw0YLRjtGA0LAg0YTQvtGC0L4g0YLQvtCy0LDRgNCwIHt7aW5kZXh9fSDQuNC3IHt7c2xpZGVzTGVuZ3RofX0nLFxuICAgICAgcHJldlNsaWRlTWVzc2FnZTogJ9Cf0YDQtdC00YvQtNGD0YnQuNC1INC80LjQvdC40LDRgtGO0YDRiycsXG4gICAgICBuZXh0U2xpZGVNZXNzYWdlOiAn0KHQu9C10LTRg9GO0YnQuNC1INC80LjQvdC40LDRgtGO0YDRiycsXG4gICAgfSxcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBzcGFjZUJldHdlZW46IDQwLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA1MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICB9LFxuICAgICAgOTkzOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMTgsXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgfSxcbiAgICAgIDEzMTE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzOCxcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIG5ldyBTd2lwZXIoJy5tb2RhbF9fcGhvdG8tcHJvZHVjdCcsIHtcbiAgICBzcGFjZUJldHdlZW46IDE2LFxuICAgIHRodW1iczoge1xuICAgICAgc3dpcGVyOiB0aHVtYnNTbGlkZXJNb2RhbCxcbiAgICB9LFxuICAgIGExMXk6IHtcbiAgICAgIHNsaWRlTGFiZWxNZXNzYWdlOiAn0KTQvtGC0L4g0YLQvtCy0LDRgNCwIHt7aW5kZXh9fSDQuNC3IHt7c2xpZGVzTGVuZ3RofX0nLFxuICAgICAgcHJldlNsaWRlTWVzc2FnZTogJ9Cf0YDQtdC00YvQtNGD0YnQtdC1INGE0L7RgtC+JyxcbiAgICAgIG5leHRTbGlkZU1lc3NhZ2U6ICfQodC70LXQtNGD0Y7RidC10LUg0YTQvtGC0L4nLFxuICAgIH0sXG4gIH0pXG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxpa2UnKSkge1xuICBjb25zdCBzd2lwZXJTcGVjaWFsID0gbmV3IFN3aXBlcignLmFsaWtlX19zbGlkZXInLCB7XG4gICAgZWZmZWN0OiAnaG9yaXpvbnRhbCcsXG4gICAgc2xpZGVzUGVyVmlldzogMixcbiAgICBzbGlkZXNQZXJHcm91cDogMixcbiAgICBzcGFjZUJldHdlZW46IDE2LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogJy5hbGlrZV9fYnV0dG9uLW5leHQnLFxuICAgICAgcHJldkVsOiAnLmFsaWtlX19idXR0b24tcHJldicsXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgNTAxOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxuICAgICAgfSxcbiAgICAgIDk5Mzoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzbGlkZXNQZXJHcm91cDogMyxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMixcbiAgICAgIH0sXG4gICAgICAxMzExOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiA0LFxuICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxuICAgICAgfSxcbiAgICB9XG4gIH0pO1xufVxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19idG4tc2FpbCcpKSB7XG4gIGNvbnN0IHByb2R1Y3RCdG5TYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2J0bi1zYWlsJyk7XG4gIGNvbnN0IGJ1eVdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fd2luZG93LS1idXknKTtcbiAgY29uc3Qgc3VjY2Vzc1dpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fd2luZG93LS1zdWNjZXNzJyk7XG4gIGNvbnN0IG1vZGFsU2hhZG93V2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG4gIGNvbnN0IGNsb3NlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2Nsb3NlLWJ0bicpO1xuICBjb25zdCBtb2RhbENvbnRhaW5lckJ1eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY29udGFpbmVyLS1idXknKTtcbiAgY29uc3QgbW9kYWxDb250YWluZXJTdWNjZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YWluZXItLXN1Y2Nlc3MnKTtcblxuICBwcm9kdWN0QnRuU2FpbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vZGFsU2hhZG93V2luZG93LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICBidXlXaW5kb3cuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIG1vZGFsQ29udGFpbmVyQnV5LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgfSk7XG5cbiAgZm9yKGxldCBpID0gMDsgaSA8IGNsb3NlTW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICBjbG9zZU1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWxTaGFkb3dXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgYnV5V2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgIG1vZGFsQ29udGFpbmVyQnV5LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgIG1vZGFsQ29udGFpbmVyU3VjY2Vzcy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPSd0ZWwnXVwiKVxuXG4gIG5ldyBKdXN0VmFsaWRhdGUoJy5tb2RhbF9fZm9ybScsIHtcbiAgICBjb2xvcldyb25nOiAnI0QxMTYxNicsXG4gICAgcnVsZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1pbkxlbmd0aDogMixcbiAgICAgICAgbWF4TGVuZ3RoOiAyNVxuICAgICAgfSxcbiAgICAgIHRlbDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuXG4gICAgICAgICAgY29uc3QgcGhvbmUgPSBzZWxlY3Rvci5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpXG4gICAgICAgICAgcmV0dXJuIE51bWJlcihwaG9uZSkgJiYgcGhvbmUubGVuZ3RoID09PSAxMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IFwi0J3QtdC00L7Qv9GD0YHRgtC40LzRi9C5INGE0L7RgNC80LDRglwiLFxuICAgICAgICBtaW5MZW5ndGg6IFwi0JjQvNGPINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQvNC10L3RjNGI0LUg0LTQstGD0YUg0YHQuNC80LLQvtC70L7QslwiLFxuICAgICAgICBtYXhMZW5ndGg6IFwi0JfQsNC/0YDQtdGJ0LXQvdC+INCy0LLQvtC00LjRgtGMINCx0L7Qu9C10LUgMjUg0YHQuNC80LLQvtC70L7QslwiXG4gICAgICB9LFxuICAgICAgdGVsOiB7XG4gICAgICAgIHJlcXVpcmVkOiBcItCd0LXQtNC+0L/Rg9GB0YLQuNC80YvQuSDRhNC+0YDQvNCw0YJcIixcbiAgICAgICAgZnVuY3Rpb246IFwi0JfQtNC10YHRjCDQtNC+0LvQttC90L4g0LHRi9GC0YwgMTAg0YHQuNC80LLQvtC70L7QslwiXG4gICAgICB9LFxuICAgIH0sXG4gICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKHRoaXNGb3JtKSB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpc0Zvcm0pO1xuXG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGC0L/RgNCw0LLQu9C10L3QvicpO1xuICAgICAgICAgICAgbW9kYWxDb250YWluZXJCdXkuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICAgICAgYnV5V2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgICAgIG1vZGFsQ29udGFpbmVyU3VjY2Vzcy5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgICAgICBzdWNjZXNzV2luZG93LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHhoci5vcGVuKCdQT1NUJywgJ21haWwucGhwJywgdHJ1ZSk7XG4gICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XG4gICAgICB0aGlzRm9ybS5yZXNldCgpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
